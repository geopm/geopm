From ed1e7b44c705372545b392c821a0a9ccdce6183c Mon Sep 17 00:00:00 2001
From: Lowren Lawson <lowren.h.lawson@intel.com>
Date: Wed, 4 May 2022 17:32:33 -0700
Subject: [PATCH 7/7] Updated header includes with geopm_hint.h

#  Copyright (c) 2015 - 2022, Intel Corporation
#  SPDX-License-Identifier: BSD-3-Clause
Signed-off-by: Lowren Lawson <lowren.h.lawson@intel.com>
---
 src/Driver.cc       | 1 +
 src/Hydro.cc        | 7 ++++---
 src/PennantGeopm.cc | 3 ++-
 src/main.cc         | 1 +
 4 files changed, 8 insertions(+), 4 deletions(-)

diff --git a/src/Driver.cc b/src/Driver.cc
index 3d2d037..02bd7b7 100644
--- a/src/Driver.cc
+++ b/src/Driver.cc
@@ -30,6 +30,7 @@
 
 #ifdef USEGEOPM
 #include "geopm_prof.h"
+#include "geopm_internal.h"
 #endif
 #include "PennantGeopm.hh"
 
diff --git a/src/Hydro.cc b/src/Hydro.cc
index 81a9411..68033ff 100644
--- a/src/Hydro.cc
+++ b/src/Hydro.cc
@@ -32,6 +32,7 @@
 
 #ifdef USEGEOPM
 #include "geopm_prof.h"
+#include "geopm_internal.h"
 #endif
 #include "PennantGeopm.hh"
 
@@ -580,7 +581,7 @@ void Hydro::sumEnergy(
         const int slast) {
 
     // compute internal energy
-    double sumi = 0.; 
+    double sumi = 0.;
     for (int z = zfirst; z < zlast; ++z) {
         sumi += zetot[z];
     }
@@ -592,7 +593,7 @@ void Hydro::sumEnergy(
     // zone ke = zone mass * (volume-weighted average of .5 * u ^ 2)
     //         = zm sum(c in z) [cvol / zvol * .5 * u ^ 2]
     //         = sum(c in z) [zm * cvol / zvol * .5 * u ^ 2]
-    double sumk = 0.; 
+    double sumk = 0.;
     for (int s = sfirst; s < slast; ++s) {
         int s3 = mesh->mapss3[s];
         int p1 = mesh->mapsp1[s];
@@ -709,7 +710,7 @@ void Hydro::resetDtHydro() {
 void Hydro::writeEnergyCheck() {
 
     using Parallel::mype;
-    
+
     double ei = 0.;
     double ek = 0.;
     #pragma omp parallel for schedule(static)
diff --git a/src/PennantGeopm.cc b/src/PennantGeopm.cc
index adb3d29..e51f02f 100644
--- a/src/PennantGeopm.cc
+++ b/src/PennantGeopm.cc
@@ -1,5 +1,6 @@
 #ifdef USEGEOPM
 #include "geopm_prof.h"
+#include "geopm_internal.h"
 #include "PennantGeopm.hh"
 #endif
 
@@ -55,4 +56,4 @@ void init() {
 #endif // USEGEOPM
 }  // init
 
-}  // namespace PennantGeopm
\ No newline at end of file
+}  // namespace PennantGeopm
diff --git a/src/main.cc b/src/main.cc
index f80b231..0f8d1d1 100644
--- a/src/main.cc
+++ b/src/main.cc
@@ -20,6 +20,7 @@
 
 #ifdef USEGEOPM
 #include "geopm_prof.h"
+#include "geopm_internal.h"
 #endif
 #include "PennantGeopm.hh"
 
-- 
2.26.2

